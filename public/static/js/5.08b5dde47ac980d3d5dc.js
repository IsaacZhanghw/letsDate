webpackJsonp([5],{bOdI:function(t,s,i){"use strict";s.__esModule=!0;var e,n=i("C4MV"),a=(e=n)&&e.__esModule?e:{default:e};s.default=function(t,s,i){return s in t?(0,a.default)(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,t}},h22S:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("bOdI"),n=i.n(e),a=i("mvHQ"),o=i.n(a),r=i("f+26"),c={data:function(){return{articleTatol:0,articleIndex:0,showModal:!1,notice:"",userInfo:{name:"",headimgurl:"",score:0,ranking:0,grade:""},articleList:[],tabIndex:0,tabList:["短文一","短文二","短文三","短文四","短文五","短文六"],article:"",questionList:[],questionTabIndex:0,questionTabList:["题目一","题目二","题目三","题目四","题目五"],questionStr:"",optionsList:[],answerList:[],shareId:0,isAffirm:!1}},beforeMount:function(){},mounted:function(){this.userInfo=this.sessionGetObj("userInfo"),this.getReviewsPaper()},methods:n()({getReviewsPaper:function(){var t=this;this.articleList=this.sessionGetObj("articleList"),this.articleList.forEach(function(s,i){t.tabList.forEach(function(t,e){i==e&&(s.tab=t)})})},goQuestionDetail:function(t,s){this.$router.push({name:"reviewsContent",params:{articleIndex:t,questionTabIndex:s}})},submitNotify:function(){var t=this;if(this.answerList=[],this.articleList.forEach(function(s){s.Questions.forEach(function(s){var i={questionId:s.questionId,answers:s.answer?s.answer:""};t.answerList.push(i)})}),!this.answerList.every(this.checkAnswer))return this.showModal=!0,this.isAffirm=!1,void(this.notice="还有题目没有做完,请再仔细阅读作答");this.showModal=!0,this.isAffirm=!0,this.notice="测评一周只能做一次哦,确认交卷吗?"},closeModal:function(){this.showModal=!1},submitReviews:function(){var t=this,s={openid:this.userInfo.openid,name:this.userInfo.name,headImg:this.userInfo.headimgurl,grade:this.userInfo.gradeId,paperId:this.sessionGetObj("paperId"),answersList:o()(this.answerList),baseUrl:"http://mp.weixin.lemonread.com/"};s.headImg||(s.headImg="../../../static/readReviews/lemon.png"),r.a.commitPaper(s).then(function(s){t.shareId=s.shareId,t.$router.push({path:"/reviewsResulte/"+t.shareId})}).catch(function(s){t.showModal=!0,t.isAffirm=!1,t.notice=s.data.errmsg})},checkAgain:function(){this.goQuestionDetail(0,0)},checkAnswer:function(t){return""!=t.answers}},"closeModal",function(){this.showModal=!1})},u={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"background-box"},[i("div",{staticClass:"top-box"},[i("router-link",{staticClass:"back-icon",attrs:{to:{path:"/reviewsContent",params:{articleIndex:0,questionTabIndex:0}}}},[i("img",{attrs:{src:"static/readReviews/goBack.png",alt:""}})]),t._v(" "),i("div",{staticClass:"step-box"})],1),t._v(" "),t.showModal?i("div",{staticClass:"modal"},[i("div",{staticClass:"mask",on:{click:t.closeModal}}),t._v(" "),i("div",{staticClass:"modal-content"},[i("p",[t._v(t._s(t.notice))]),t._v(" "),t.isAffirm?i("div",{staticClass:"affirm-box"},[i("button",{staticClass:"submit-btn cancel-btn",attrs:{type:"button"},on:{click:t.checkAgain}},[t._v("检查一下")]),t._v(" "),i("button",{staticClass:"submit-btn",attrs:{type:"button"},on:{click:t.submitReviews}},[t._v("确定交卷")])]):t._e()])]):t._e(),t._v(" "),i("ul",t._l(t.articleList,function(s,e){return i("li",{staticClass:"article-box"},[i("span",{staticClass:"article-title"},[t._v(t._s(s.tab))]),t._v(" "),i("ul",{staticClass:"questions-box"},t._l(s.Questions,function(s,n){return i("li",{staticClass:"question-box",class:s.answer?"questionIsCheck":"",on:{click:function(s){t.goQuestionDetail(e,n)}}},[s.answer?i("span",[t._v(t._s(s.answer))]):i("span",[t._v(t._s(n+1))])])}))])})),t._v(" "),i("button",{staticClass:"submit-box",on:{click:t.submitNotify}},[t._v("交卷")])])},staticRenderFns:[]};var l=i("VU/8")(c,u,!1,function(t){i("vuwv")},"data-v-107f1fd3",null);s.default=l.exports},vuwv:function(t,s){}});